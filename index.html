<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>To You</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Nanum+Myeongjo:wght@400;700&display=swap" rel="stylesheet">

<style>
html,body{
  height:100%;
  margin:0;
  overflow:hidden;
  font-family:'Nanum Myeongjo', serif;
  background: radial-gradient(ellipse at bottom,#1b2735 0%,#090a0f 100%);
  color:#fff;
}

/* 별 */
#stars{
  width:1px;height:1px;background:transparent;
  animation:animStar 50s linear infinite;
}
#stars:after{
  content:" ";position:absolute;top:2000px;width:1px;height:1px;
}

/* 메인 화면 */
.container{
  position:absolute;top:0;left:0;width:100%;height:100%;
  display:flex;flex-direction:column;
  align-items:center;justify-content:center;
}

.message-box{
  text-align:center;
  line-height:2.4;
  font-size:1.4rem;
  padding:40px;
  background:rgba(255,255,255,0.03);
  border-radius:20px;
  backdrop-filter:blur(3px);
  border:1px solid rgba(255,255,255,0.05);
  max-width:90%;width:600px;
  opacity:0;
  animation:fadeInUp 2s forwards .5s;
}

.line{display:inline-block;opacity:0;transform:translateY(20px);}
.line:nth-of-type(1){animation:textFadeIn 1.5s forwards 1.2s;}
.line:nth-of-type(2){animation:textFadeIn 1.5s forwards 3s;}
.line:nth-of-type(3){animation:textFadeIn 1.5s forwards 4.8s;}
.line:nth-of-type(4){animation:textFadeIn 1.5s forwards 6.5s;color:#ffebd2;}

.highlight{color:#ffd700;text-shadow:0 0 10px rgba(255,215,0,.4);}

.next-btn{margin-top:25px;font-size:2rem;opacity:.5;cursor:pointer}

/* 영상 화면 */
#videoScreen{
  position:fixed;top:0;left:0;width:100%;height:100%;
  background:#000;
  display:none;
  align-items:center;justify-content:center;
  flex-direction:column;
}

.back-btn{
  position:absolute;top:20px;left:20px;font-size:1.5rem;cursor:pointer
}

.next-video-btn{
  position:absolute;
  right:30px;
  bottom:30px;
  font-size:2rem;
  cursor:pointer;
  opacity:.7;
}

#videoMemo{margin-top:15px;opacity:.7}

/* 애니메이션 */
@keyframes animStar{from{transform:translateY(0)}to{transform:translateY(-2000px)}}
@keyframes fadeInUp{to{opacity:1}}
@keyframes textFadeIn{to{opacity:1;transform:translateY(0)}}
</style>
</head>

<body>

<div id="stars"></div>

<!-- 메인 -->
<div class="container">
  <div class="message-box">

    <span class="line">당신이 오늘 마치려던 그 일,</span><br>
    <span class="line">딱 <span class="highlight">하루만</span> 미뤄주실 수 있나요?</span><br><br>

    <span class="line">그리고 또 하루, 또 하루...<br>
    그렇게 버텨낸 시간들이 모이면,</span><br><br>

    <span class="line">언젠가 다시 웃을 이유 하나쯤은<br>
    반드시 당신을 찾아올 테니까요.</span>

    <div class="next-btn" onclick="showVideo()"> &gt; </div>

  </div>
</div>

<!-- 영상 -->
<div id="videoScreen">

  <iframe id="videoPlayer"
    width="80%"
    height="60%"
    frameborder="0"
    allow="autoplay; encrypted-media"
    allowfullscreen>
  </iframe>

  <div id="videoMemo"></div>

  <div class="back-btn" onclick="showMain()">←</div>
  <div class="next-video-btn" onclick="nextVideo()"> &gt; </div>

</div>

<script>

/* 영상 목록 */
const videos=[
 {id:"ekKnNTpm3Cs", memo:"죽지마"},
  {id:"RohZ89_w93o", memo:"실패라고 생각하지마"},
  {id:"cS-IiArGmcU", memo:"가족을 생각해"},
  {id:"F1vNK4jSYr0", memo:"힘내 쨔샤"}

  
];

let currentIndex=-1;

/* 랜덤 선택 */
function pickRandom(){
  let i;
  do{
    i=Math.floor(Math.random()*videos.length);
  }while(i===currentIndex && videos.length>1);

  currentIndex=i;
  return videos[i];
}

function play(v){
  document.getElementById("videoPlayer").src=
    `https://www.youtube.com/embed/${v.id}?autoplay=1`;
  document.getElementById("videoMemo").innerText=v.memo;
}

function showVideo(){
  document.querySelector(".container").style.display="none";
  document.getElementById("videoScreen").style.display="flex";
  play(pickRandom());
}

function nextVideo(){
  play(pickRandom());
}

function showMain(){
  document.getElementById("videoScreen").style.display="none";
  document.querySelector(".container").style.display="flex";
  document.getElementById("videoPlayer").src="";
}

/* 별 */
let starStyle;
function createStars(){
  if(starStyle) starStyle.remove();
  starStyle=document.createElement("style");
  let s="";
  for(let i=0;i<400;i++){
    s+=`${Math.random()*window.innerWidth}px ${Math.random()*2000}px 0 ${Math.random()*2}px #FFF,`;
  }
  starStyle.innerHTML=`#stars,#stars:after{box-shadow:${s.slice(0,-1)};}`;
  document.head.appendChild(starStyle);
}
createStars();
window.addEventListener("resize",createStars);

</script>

</body>
</html>
